Skip to content
 
Search or jump to…

Pull requests
Issues
Marketplace
Explore
 
@izabelamartins 
0
0 0 ordulruk/BigHub Private
 Code  Issues 0  Pull requests 0  Projects 0  Insights
BigHub/utm_and_form.html
@izabelamartins izabelamartins Código de junção das informações (UMT+FORM)
7137efc 4 days ago
97 lines (79 sloc)  2.8 KB
    
<html>
<head>
<script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
<script>
	var today = new Date();
	var expiry = new Date(today.getTime() + 3600 * 24 * 3600 * 1000);
	function getParameter(theParameter) 
	{
      	var params = window.location.search.substr(1).split('&');
      	for (var i = 0; i < params.length; i++) 
      	{
            var p=params[i].split('=');
             if (p[0] == theParameter) {
              return decodeURIComponent(p[1]);
            }
        }
        return false;
    }
	function set_cookie(cookie_name, cookie_value)
	{
      	var cookie_expire = 10;
      	var cookie = cookie_name + "=" + encodeURIComponent(cookie_value);
      	var cookie_path = "cookies_test";
        if(typeof cookie_expire === "number")
        {
          cookie += ";max-age=" + (cookie_expire*24*60*60*365);
        }
        
        if(typeof cookie_path === "string")
        {
          cookie += ";path=/" + (cookie_path);
        }
        document.cookie = cookie;
    } 
    
    function get_cookie(cookie_name)
    {
    	var cookieg = document.cookie.split(";");
    	for(var i = 0; i < cookieg.length; i++)
	{
		var cookie_sp = cookieg[i].split("=");
		if(cookie_name === cookie_sp[0])
		
		{
			return decodeURIComponent(cookie_sp[1]);
		}
	}
	return null;
}
function get_desired_parameters()
	{
		url_src = getParameter('utm_source');
      	url_mdm = getParameter('utm_medium');
      	url_cpn = getParameter('utm_campaign');
      	set_cookie("utm_source", url_src);
      	set_cookie("utm_medium", url_mdm);
      	set_cookie("utm_campaign", url_cpn);
      	
      	return true;
    }
    
    function fillForms() {
        var srcBox = document.createElement("scrBox");
        srcBox.setAttribute("srcBox", Cookies.get("utm_source"));
    
        var mdmBox = document.createElement("mdmBox");
        mdmBox.setAttribute("mdmBox", Cookies.get("utm_medium"));
        
        var cpnBox = document.createElement("cpnBox");
        cpnBox.setAttribute("cpnBox", Cookies.get("utm_campaign"));
        
    	document.getElementById("srcBox").value = Cookies.get("utm_source");
    	document.getElementById("mdmBox").value = Cookies.get("utm_medium");
    	document.getElementById("cpnBox").value = Cookies.get("utm_campaign");
}
</script>
    </head>
    <body onload="fillForms()">
    <form method= "post" name="qdois" action="mailto:izabela.martins@qdois.com.br">
    <input type="text" placeholder="Enter Your Nickname" id="nameBox" name="usrname">
    <input type="hidden" id="srcBox" name="url_src">
    <input type="hidden" id="mdmBox" name="url_mdm">
    <input type="hidden" id="cpnBox" name="url_cpn">
    <input type="submit" value="Send" id="submit">

    </form>

</body>
  </html>
